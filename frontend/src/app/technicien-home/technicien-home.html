<!-- MÃªme structure que app.html, adaptÃ©e au rÃ´le technicien -->
<div class="dashboard-layout">
  <!-- Top Bar -->
  <header class="top-bar">
    <!-- Burger -->
    <button class="menu-toggle" id="sidebarToggle" (click)="toggleSidebar()">
      <span></span><span></span><span></span>
    </button>

    <div class="top-right-controls">
      <!-- Chip utilisateur -->
      <span class="user-chip" *ngIf="auth.user() as u">
        ðŸ‘¤ {{ u.firstname }} {{ u.lastname }} ({{ u.role }})
      </span>

      <!-- Langue -->
      <button class="language-button" (click)="toggleLang()">
        {{ lang === 'fr' ? 'English' : 'FranÃ§ais' }}
      </button>

      <!-- Dark mode avion -->
      <label class="plane-switch top-plane-switch">
        <input type="checkbox" [checked]="darkMode" (change)="toggleDarkMode()" />
        <div>
          <div>
            <svg viewBox="0 0 13 13">
              <path d="M1.55989957,5.41666667 L5.51582215,5.41666667 L4.47015462,0.108333333 ... Z" fill="currentColor"></path>
            </svg>
          </div>
          <span class="street-middle"></span>
          <span class="cloud"></span>
          <span class="cloud two"></span>
        </div>
      </label>

      <!-- DÃ©connexion -->
      <button class="language-button danger" (click)="auth.logout()">DÃ©connexion</button>
    </div>
  </header>

  <div class="layout">
    <!-- Mobile overlay -->
    <div id="mobile-overlay" class="mobile-overlay" (click)="toggleSidebar()"></div>

    <!-- Sidebar technicien -->
    <aside class="sidebar" id="sidebar">
      <div class="image-container">
        <img src="assets/r.png" alt="Logo" class="logo">
      </div>

      <nav class="nav-links">
        <!-- Accueil technicien -->
        <a routerLink="/technicien-home" routerLinkActive="active"
           [routerLinkActiveOptions]="{ exact: true }" class="nav-item">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          </svg>
          <span>Tableau de bord</span>
        </a>

        <!-- Profil / fiche technicien (enfant configurÃ© dans tes routes) -->
        <a routerLink="/technicien-home/technicien" routerLinkActive="active" class="nav-item">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            <path d="M8 3.13a4 4 0 0 0 0 7.75"></path>
          </svg>
          <span>Mon profil</span>
        </a>

        <!-- Tu pourras ajouter d'autres liens spÃ©cifiques au rÃ´le (ex: /mes-interventions)
        <a routerLink="/technicien-home/interventions" routerLinkActive="active" class="nav-item">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
          </svg>
          <span>Mes interventions</span>
        </a>
             quand tu crÃ©es les routes enfants correspondantes -->
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content" [ngClass]="{'sidebar-hidden': !sidebarVisible && window.innerWidth > 768}">
      <!-- Enfant (ex: /technicien-home/technicien) -->
      <router-outlet #childOutlet="outlet"></router-outlet>

      <!-- Contenu par dÃ©faut quand aucun enfant n'est activÃ© -->
      <div *ngIf="!childOutlet.isActivated" class="page">
        <h2>Bienvenue technicien {{ fullName() }}</h2>
        <p>AÃ©roport ID : {{ aeroportId() ?? 'â€”' }}</p>
        <p>AccÃ©dez Ã  votre profil via la sidebar. La page Â« Mes interventions Â» sera ajoutÃ©e ensuite.</p>
      </div>
    </main>
  </div>
</div>
